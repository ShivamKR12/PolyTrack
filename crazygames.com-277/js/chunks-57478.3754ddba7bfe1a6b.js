try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="853e909e-4488-4739-bc40-2347376ca7a6",e._sentryDebugIdIdentifier="sentry-dbid-853e909e-4488-4739-bc40-2347376ca7a6")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57478],{57478:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(74848),l=n(96540),a=n(86715),i=n(67330),o=n(45249),s=n(80362),d=n(78766),c=n(66961),u=n(64996),f=n(52129),w=n(62316),p=n(68044),g=n(58466),y=n(33290);let h=(0,n(3552).Ay)("div")(()=>({width:"100%",height:"100%"}));var b=n(75782);let v=e=>{let{game:t}=e,n=l.useRef(null),v=l.useRef(null),[m,A]=l.useState("loading"),{routeHelper:x}=l.useContext(o.A),{pageUrlHelper:_}=l.useContext(c.e),{services:k}=l.useContext(u.A);return l.useEffect(()=>{let e=e=>{let t=new URL(e,window.location.href);window.location.href!==t.toString()&&A("disabled")};return a.Router.events.on("routeChangeStart",e),function(){a.Router.events.off("routeChangeStart",e)}},[]),l.useEffect(()=>{let e=e=>{let n;if(!e.data||e.data.type!==d.x||!e.origin)return;try{n=new URL(e.origin)}catch{return}let r=x.isMessageFromGameframe(e,t.desktopUrl),l=n.hostname===window.location.hostname;if(r||l)switch(e.data.event){case"happytime":(0,f.A)(k.userInfoService).catch(e=>{console.error(e)});break;case"inviteLink":{let t=e.data.url;try{window.history.replaceState({...window.history.state,as:t,url:t},"",t)}catch(e){console.error(e)}break}case"exitFullscreen":b.A.exitNativeFullscreen()}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}},[t.desktopUrl,k,x]),l.useEffect(()=>{let e=()=>{v.current&&v.current.contentWindow?.postMessage("tcf-loaded","*")};return(0,s.b)().addInstallListener(e),A("enabled"),function(){(0,s.b)().removeInstallListener(e),(0,y.lT)()}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{children:(0,r.jsx)("div",{className:"GameContainer",ref:n,style:{position:"relative",width:"100%",height:"100%"},children:(()=>{if("disabled"===m)return null;if("loading"===m)return(0,r.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(i.A,{disableShrink:!0,sx:{color:"white"}})});let e=(0,g.A)(t),n=t.seoDescription?{dangerouslySetInnerHTML:{__html:t.seoDescription}}:{},l=t.allowWebCam||t.isPreview?"camera;":"",a=1===k.crazyAnalyticsService.getSessionCount(),o=_.getPreviewBuildId(),s=x.gameIframeUrl(t.desktopUrl,{..._.filteredQueryParams(),...a&&{skipPrerollFirstSession:a},...t.isPreview&&{isPreview:!0},...t.isPreview&&o&&{gameBuildId:o}});return s?(0,r.jsx)("iframe",{id:p.u,src:s,title:t.name,scrolling:"no",allow:`autoplay; payment; fullscreen; microphone; focus-without-user-activation *; screen-wake-lock; gamepad; clipboard-read; clipboard-write; accelerometer; gyroscope; ${l}`,allowFullScreen:!0,ref:v,sandbox:e,loading:"eager",importance:"high",...n,"data-hj-allow-iframe":!0,style:{border:0,margin:0,padding:0,width:"100%",height:"100%",position:"absolute",top:0,left:0,userSelect:"none"}},t.slug):null})()})}),(0,r.jsx)(w.A,{})]})}},33290:(e,t,n)=>{n.d(t,{lT:()=>a,ow:()=>l});let r=[];function l(){r.forEach(e=>e()),r=[]}function a(){r=[]}},62316:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(96540),l=n(75782),a=n(64996);let i=()=>{let e=r.useContext(a.A).services;return r.useEffect(()=>{let t=()=>{if(l.A.isFakeFullscreen()||l.A.isFullscreen()){e.crazyAnalyticsService.displayEvent("fullscreen","enter");return}e.crazyAnalyticsService.displayEvent("fullscreen","exit")};return l.A.addFullscreenListener(t),l.A.addFakeFullscreenListener(t),()=>{l.A.removeFullscreenListener(t),l.A.removeFakeFullscreenListener(t)}},[e.crazyAnalyticsService]),null}},52129:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(26549),l=n(75782),a=n(11015);let i=async function(e){if(l.A.isFullscreen())return;let t=await e.getUserInfo();if((0,a.L)(t?.device,!!window.__NEXT_DATA__.props.forceIpad,!!window.__NEXT_DATA__.props.forceAndroidTablet).isLowEndDevice)return;let i=(await n.e(14685).then(n.bind(n,14685))).create(void 0,{resize:!0,useWorker:!0});i({particleCount:100,angle:60,spread:65,origin:{x:0},colors:r.xt,zIndex:1305}),i({particleCount:100,angle:120,spread:65,origin:{x:1},colors:r.xt,zIndex:1305})}},58466:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){if(e.sandbox){let t="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin allow-downloads ";return e.disallowSandboxPopups||(t+=" allow-popups allow-popups-to-escape-sandbox"),t}}}}]);