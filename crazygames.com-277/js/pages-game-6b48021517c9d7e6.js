try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="83b9521b-e5a8-4dd9-9c38-d458fc07ab2e",e._sentryDebugIdIdentifier="sentry-dbid-83b9521b-e5a8-4dd9-9c38-d458fc07ab2e")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75910],{76228:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return a(75445)}])},18705:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(74848),r=a(96540),i=a(13368),s=a.n(i),o=a(35265),l=a(49754),d=a(27108);let c=e=>{let{canonical:t,title:a,description:i,imageUrl:c="crazygames/share.png",imageWidth:g=1200,imageHeight:u=630,type:m}=e,{locale:p}=r.useContext(d.A),y=(0,l.Ay)(c,{width:g,height:u,fit:"crop"});return(0,n.jsxs)(s(),{children:[(0,n.jsx)("meta",{property:"og:url",content:t}),(0,n.jsx)("meta",{property:"og:title",content:a}),(0,n.jsx)("meta",{property:"og:description",content:i}),(0,n.jsx)("meta",{property:"og:locale",content:(0,o.uo)(p)}),(0,n.jsx)("meta",{property:"og:image",content:y}),(0,n.jsx)("meta",{property:"og:image:width",content:g.toString()}),(0,n.jsx)("meta",{property:"og:image:height",content:u.toString()}),m&&(0,n.jsx)("meta",{property:"og:type",content:m}),(0,n.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{property:"twitter:url",content:t}),(0,n.jsx)("meta",{property:"twitter:title",content:a}),(0,n.jsx)("meta",{property:"twitter:description",content:i}),(0,n.jsx)("meta",{property:"twitter:image",content:y})]})}},50671:(e,t,a)=>{"use strict";a.d(t,{$Y:()=>T,AJ:()=>m,CZ:()=>x,EJ:()=>f,H_:()=>p,Qe:()=>w,Qh:()=>g,Qq:()=>c,T5:()=>u,a1:()=>A,hA:()=>v,uA:()=>y,wN:()=>h,xV:()=>P});var n=a(2503),r=a(96230),i=a(3600),s=a(45300),o=a(35265),l=a(97373);function d(e){return s.A.Instance.data.domains.map(t=>{let a="en-US"===(0,o.cy)(t.host),s={...r.a},l=new n.A(s).generateHome({page:e});if(!l)return null;let d=(0,i.A)(t.host,l.as,{isMainDomain:a,locale:t.locale}).toString();return{locale:t.locale,href:d.toString(),host:t.host}}).filter(e=>!!e)}function c(e){return b(e=>e.generateCompetitions(),{},e,"competitions")}function g(e){return b(e=>e.generateScholarship(),{},e,"scholarship")}function u(e){return b(e=>e.generateRecent(),{},e,"recent")}function m(e){return b(e=>e.generateOriginals(),{},e,"originals")}function p(e){return b(e=>e.generateTags(),{},e,"tags")}function y(e,t){return b((e,t)=>e.generateGame(t),{slug:e},t,"game")}function h(e){return b(e=>e.generatePrivacyPolicy(),{},e,"privacyPolicy")}function f(e){return b(e=>e.generateTermsAndConditions(),{},e,"termsAndConditions")}function w(e){return b(e=>e.generateSearch(),{},e,"search")}function v(e,t){return b(t=>t.generateProfilePage(e),{},t,"u")}async function x(e,t,a,n,r){if(r)return d(n);if(t&&"hot"===t)return b(e=>e.generatePaginatedHotGames({page:n}),{},await a.getRouteProviderData("hotGames"),"hotGames");switch(e){case l.QI:return b(e=>e.generatePaginatedNewGames({page:n}),{},await a.getRouteProviderData("newGames"),"newGames");case l.nn:case l.F3:return b(e=>e.generatePaginatedUpdatedGames({page:n}),{},await a.getRouteProviderData("updatedGames"),"updatedGames");default:return console.warn(`unexpected sorting in games ${e}`),d(n)}}async function T(e,t,a){if(e.isCategory){let n=await t.getRouteProviderData("category");return b((e,t)=>e.generateCategory(t),{slugTrl:e.slug,page:a},n,"category")}{let n=await t.getRouteProviderData("tag");return b((e,t)=>e.generateTag(t),{slugTrl:e.slug,page:a},n,"tag")}}async function A(e,t,a,n){return b((t,a)=>t.generateMultiplayerWithTag(a,e.slug),{page:a,sorting:n},t,"multiplayer")}function P(e,t){return b(t=>t.generateAllGames(e),{},t,"allGames")}function b(e,t,a,l){return(function(e){let t=s.A.Instance.data.domains;return e.map(e=>({domain:t.find(t=>(0,o.uo)(t.locale)===e.locale),routeData:e}))})(a).map(a=>{let s=a.domain,d="en-US"===(0,o.cy)(s.host),c=s.locale,g={...r.a,[l]:a.routeData.route,locale:a.routeData.locale},u=e(new n.A(g),t);if(!u||!a.domain)return null;let m=(0,i.A)(a.domain.host,u.as,{isMainDomain:d,locale:c}).toString();return{locale:a.domain.locale,href:m.toString(),host:a.domain.host}}).filter(e=>!!e)}},75445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var n=a(74848),r=a(96540),i=a(45300),s=a(50671),o=a(40499),l=a(17033),d=a(35265),c=a(62603),g=a(31162),u=a(97373),m=a(18951),p=a(74575),y=a(86715),h=a.n(y),f=a(4743),w=a(57440),v=a(53164),x=a(94282),T=a(78766),A=a(38037),P=a(64996),b=a(16771),S=a(59386),j=a(88363);let G=e=>{let{gameId:t}=e,{services:a}=r.useContext(P.A),{user:n}=r.useContext(S.R),{syncPlayedTime:i}=r.useContext(j.oJ),s=r.useRef(Date.now()),o={};b.Hq.forEach(e=>{o[e]=!1});let{gamesPlayedService:l}=a;r.useEffect(()=>()=>{i()},[i,t]);let d=(0,r.useCallback)(()=>{if(!n)return;let e=Math.round((Date.now()-s.current)/1e3);l.handlePlayedTimeForUPSync(t,e)},[n,t,l]);return r.useEffect(()=>{n&&d()},[n,d]),r.useEffect(()=>{let e=null,t=()=>{e=window.setInterval(()=>{d()},b.sB)},a=()=>{e&&(window.clearInterval(e),d(),e=null)},n=()=>{document.hidden?a():t()};return t(),document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n),e&&window.clearInterval(e)}},[d]),null};var I=a(62465),D=a(30804),_=a(46069),k=a(97538);class R extends r.Component{constructor(e){super(e),this.addToRecentTimeout=null,this.gameStartTime=0,this.pageUnload=()=>{this.savePlayedGameTime()},this.processMessage=e=>{if(e.data&&e.data.type===T.x)switch(e.data.event){case"afterPlayNow":(0,I.$n)("afterPlayNow");break;case"gameStartLoad":(0,I.$n)("gameStartLoad");break;case"gameLoaded":{let{gfVersion:t}=e.data;this.handlePlayerStartedPlaying(t);return}}},this.delayedAddToRecent=()=>{let{game:e,userRecent:t}=this.props;t.addToRecent({id:e.id,slug:e.slug,name:e.name,cover:e.cover,covers:e.covers,videos:e.videos,status:e.status,iosFriendly:e.iosFriendly,androidFriendly:e.androidFriendly,mobileFriendly:!!(e.iosFriendly||e.androidFriendly),gameThumbLabels:[],playedTime:45})},this.state={trackTime:!1}}render(){let{game:e}=this.props,{trackTime:t}=this.state;return t&&(0,n.jsx)(G,{gameId:e.id})}componentDidMount(){let{services:e,game:t}=this.props;e.crazyAnalyticsService.gamePageLoaded(t.id,t.buildId),window.addEventListener("message",this.processMessage),window.addEventListener("pagehide",this.pageUnload)}componentWillUnmount(){this.savePlayedGameTime(),this.clearGameTracking(),window.removeEventListener("pagehide",this.pageUnload),window.removeEventListener("message",this.processMessage),this.props.services.crazyAnalyticsService.gamePageExited()}handlePlayerStartedPlaying(e){(0,I.$n)("afterGameLoad"),this.setGameTracking(e),this.addToRecent()}addToRecent(){this.addToRecentTimeout=window.setTimeout(this.delayedAddToRecent,45e3)}setGameTracking(e){let{services:t,game:a}=this.props,{gamesPlayedService:n,crazyAnalyticsService:r}=t;n.startedPlayingGame(a),this.gameStartTime=Date.now();let i=k.SS(a.slug)?.numPlays||1;r.playingStarts({gfVersion:e,gameId:a.id,buildId:a.buildId,numPlays:i}),(0,k.A8)(a.slug),this.setState({trackTime:!0})}savePlayedGameTime(){let{game:e,services:t}=this.props;if(this.gameStartTime){let a=Math.min(27e5,Date.now()-this.gameStartTime);t.gamesPlayedService.trackPlayedTime(e.slug,a)}}clearGameTracking(){this.addToRecentTimeout&&window.clearTimeout(this.addToRecentTimeout),this.setState({trackTime:!1})}}let C=(0,A.A)((0,j.QR)((0,_.A)(e=>{let t=r.useContext(D.H);return(0,n.jsx)(R,{experiment:t,...e})})));var E=a(18705),L=a(71197),M=a(29467),F=a(7040),N=a(27434),H=a(45249),U=a(73319),$=a(14953),O=a.n($),q=a(9656),W=a(54437),z=a(43541);let B=e=>{let{structuredData:t}=e,{i18n:a}=(0,f.uB)(),{routeHelper:i}=r.useContext(H.A);if(!t)return null;let s={...t,isPartOf:(0,z.Xr)(a,i)};return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}})},J=O()(()=>Promise.all([a.e(24088),a.e(67971),a.e(31983),a.e(79004),a.e(11749),a.e(18319),a.e(6929)]).then(a.bind(a,21865)),{loadableGenerated:{webpack:()=>[21865]},loading:()=>null,ssr:!0}),Q=O()(()=>Promise.all([a.e(24088),a.e(67971),a.e(31983),a.e(81651),a.e(79004),a.e(93041),a.e(11749),a.e(18319),a.e(24576)]).then(a.bind(a,24576)),{loadableGenerated:{webpack:()=>[24576]},loading:()=>null,ssr:!0}),V=e=>{let{game:t,related:a,alternatives:s,isCrawler:o,locale:l}=e,{routeHelper:d}=r.useContext(H.A),{isDesktop:c}=r.useContext(q.A),g=(0,f.uB)();r.useEffect(()=>((0,W.I)({gameId:t.id}),()=>(0,W.I)({gameId:null})),[t.id]);let u={name:t.name,category:t.category?.name||""},m=t.pageTitle?t.pageTitle:g._("game.head.title",{name:t.name}),p=t.metaDescription||g._("game.head.metaDescriptionFallback",u),y=d.gameCanonical(t.slug),h=i.A.Instance.data.advertizing.domain,T=!c&&!t.iosFriendly&&!t.androidFriendly,A=!!t.disableAds||"UNAVAILABLE"===t.status||T||(0,U.O)(),P=t.tags.map(e=>e.enSlug||e.slug);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.A,{locale:l,advertisingGame:{gameName:t.name,gameSlug:t.slug,categoryEnSlug:t.category?.enSlug,tagsSlug:P,numLikes:t.upvotes},disabled:A,smartRefresh:{minWaitInMs:t.minWaitForSmartRefreshInMs,maxWaitInMs:t.maxWaitForSmartRefreshInMs},edgeExperiments:{},children:[(0,n.jsxs)(x.A,{title:m,metaDescription:p,canonical:y,alternatives:s,children:[(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:t.name}),(0,n.jsx)("link",{rel:"preconnect",href:h}),(()=>{if(t.customStructuredData)return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t.customStructuredData}})})()]}),(0,n.jsx)(B,{structuredData:t.structuredData}),(0,n.jsx)(E.A,{canonical:y,title:m,description:p,imageUrl:t.cover,type:"game"}),(0,n.jsx)(F.A,{children:(0,n.jsx)(J,{game:t,crawlerData:{isCrawler:o,games:a}})}),(0,n.jsx)(N.A,{children:(0,n.jsx)(Q,{game:t,crawlerData:{isCrawler:o,games:a}})})]},t.slug),(0,n.jsx)(C,{game:t},`gametracking-${t.slug}`),(0,n.jsx)(v.R,{game:t}),(0,n.jsx)(L.A,{gameId:t.id,gameTechnology:t.technology}),(0,n.jsx)(M.A,{gameId:t.id})]})};V.getInitialProps=async e=>{let t=(e,t,a)=>e.collection?t.tagPageDirectLink(e.collection,{returnRelative:a}):e.category?t.categoryPageDirectLink(e.category.slug,{returnRelative:a}):t.homePageLink(),{pageService:a,routeDataService:n,crawlerService:r}=(0,p.V)(e),c=e.query&&e.query[u.xL],{deviceType:m}=(0,o.ZR)(e),y=(0,o.AI)(m),f=m.isDesktop?l.vl:l.lq,[{game:w},v]=await Promise.all([a.gamePage(c,y),n.getRouteProviderData("game")]),{res:x}=e,T=(0,d.JK)(e);if("ARCHIVED"===w.status){let a=await n.getLocaleRouteProviderData(T),r=g.A.createFromContext(e,a);if(x){let e=t(w,r,!1);x.writeHead(302,{Location:e.as}),x.end()}else{let e=t(w,r,!0);h().push(e.href,e.as)}}x&&w.isKids&&(x.writeHead(302,{Location:`${i.A.Instance.data.kids}/game/${w.slug}`}),x.end());let A=(0,s.uA)(w.slug,v),P="true"===e.query[u.pr],b={game:w,numRelatedGames:f,alternatives:A,isCrawler:P,locale:T};return P?await r.replaceGamePageForCrawler(b,m):b};let K=(0,c.A)("game")((0,m.A)(V))},96230:(e,t,a)=>{"use strict";a.d(t,{a:()=>r,c:()=>n});let n=["newGames","updatedGames","hotGames","tags","category","tag","game","preview","termsAndConditions","informationForParents","privacyPolicy","10-anniversary","recent","originals","multiplayer","search","scholarship","competitions","pwa","u","allGames"],r={newGames:"",updatedGames:"",hotGames:"",tags:"",category:"",tag:"",game:"",preview:"",termsAndConditions:"",privacyPolicy:"","10-anniversary":"",recent:"",originals:"",multiplayer:"",search:"",pwa:"",allGames:"",u:"",locale:""}}},e=>{var t=t=>e(e.s=t);e.O(0,[24672,22633,12572,6117,90636,46593,38792],()=>t(76228)),_N_E=e.O()}]);